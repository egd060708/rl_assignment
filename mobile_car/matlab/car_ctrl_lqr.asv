clc;
clear;

% 定义期望目标，初始状态以及初始输入
% 注意初始输入不能为0，否则lqr无解
x_t = [1,1,1];
x_c = [0,0,0];
u_c = [0.0001,0.0001];
% 仿真步长以及控制周期
n_step = 1000;
Ts = 0.002;
% 定义权重矩阵
Q = eye(3);
Q(1,1) = 1;
Q(2,2) = 1;
Q(3,3) = 1;
R = eye(2);
R(1,1) = 1;
R(2,2) = 1;

for i = 1:n_step
    u_c = car_lqr(x_t, x_c, u_c, Q, R,Ts);
    x_c = car_model(